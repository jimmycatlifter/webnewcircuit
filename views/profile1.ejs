<%- include('partials/header') %>
<%- include('partials/navbar') %>

<main class="main">
  <section class="profile-section">
    <div class="container">
      <div class="profile-header">
        <h1 class="profile-title">My Profile</h1>
      </div>
      
      <%- include('partials/alert') %>
      
      <div class="profile-container">
        <div class="profile-sidebar">
          <div class="profile-avatar">
            <img src="<%= user.avatar %>" alt="<%= user.name %>">
          </div>
          <div class="profile-details">
            <h2 class="profile-name"><%= user.name %></h2>
            <p class="profile-role"><%= user.role.charAt(0).toUpperCase() + user.role.slice(1) %></p>
            <p class="profile-joined">
              <i class="fas fa-calendar-alt"></i>
              Joined <%= new Date(user.createdAt).toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' }) %>
            </p>
          </div>
        </div>
        
        <div class="profile-content">
          <div class="profile-tabs">
            <button class="tab-button active" data-tab="edit-profile">Edit Profile</button>
            <button class="tab-button" data-tab="account-settings">Account Settings</button>
          </div>
          
          <div class="tab-content active" id="edit-profile">
            <form class="profile-form" action="/profile" method="POST">
              <div class="form-group">
                <label for="name">Full Name</label>
                <input 
                  type="text" 
                  id="name" 
                  name="name" 
                  value="<%= user.name %>"
                  required
                >
              </div>
              
              <div class="form-group">
                <label for="email">Email</label>
                <input 
                  type="email" 
                  id="email" 
                  value="<%= user.email %>"
                  disabled
                >
                <p class="form-help">Email cannot be changed</p>
              </div>
              
              <div class="form-actions">
                <button type="submit" class="btn btn-primary">Save Changes</button>
              </div>
            </form>
          </div>
          
          <div class="tab-content" id="account-settings">
            <div class="settings-list">
              <div class="settings-item">
                <div class="settings-info">
                  <h3>Password</h3>
                  <p>Change your account password</p>
                </div>
                <button class="btn btn-outline">Change Password</button>
              </div>
              
              <div class="settings-item">
                <div class="settings-info">
                  <h3>Notifications</h3>
                  <p>Manage your notification preferences</p>
                </div>
                <button class="btn btn-outline">Configure</button>
              </div>
              
              <div class="settings-item">
                <div class="settings-info">
                  <h3>Two-Factor Authentication</h3>
                  <p>Add an extra layer of security to your account</p>
                </div>
                <button class="btn btn-outline">Enable</button>
              </div>
              
              <div class="settings-item">
                <div class="settings-info">
                  <h3>Delete Account</h3>
                  <p class="text-danger">Permanently delete your account and all data</p>
                </div>
                <button class="btn btn-danger">Delete Account</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</main>

<%- include('partials/footer') %>